// Variables SCSS
$primary-color: #646cff;
$primary-hover: #535bf2;
$secondary-color: #764ba2;

// Couleurs de fond
$bg-primary: #ffffff;
$bg-secondary: #f8f9fa;
$bg-dark: #242424;
$bg-card: rgba(255, 255, 255, 0.8);

// Couleurs de texte
$text-primary: #213547;
$text-secondary: #666666;
$text-light: rgba(255, 255, 255, 0.87);

// Bordures et ombres
$border-color: #e0e0e0;
$border-radius: 8px;
$box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
$box-shadow-hover: 0 8px 30px rgba(0, 0, 0, 0.15);

// Espacements
$spacing: (
  xs: 0.25rem,
  sm: 0.5rem,
  md: 1rem,
  lg: 1.5rem,
  xl: 2rem,
  xxl: 3rem
);

// Typographie
$font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
$font-sizes: (
  sm: 0.875rem,
  base: 1rem,
  lg: 1.125rem,
  xl: 1.25rem,
  2xl: 1.5rem,
  3xl: 2rem
);

// Transitions
$transition-fast: 0.15s ease;
$transition-normal: 0.3s ease;
$transition-slow: 0.5s ease;

// Breakpoints
$breakpoints: (
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px
);

// Mixins
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin button-base {
  padding: map-get($spacing, sm) map-get($spacing, lg);
  border-radius: $border-radius;
  border: 2px solid transparent;
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: all $transition-normal;
  display: inline-block;
}

@mixin card-style {
  background: $bg-card;
  border-radius: $border-radius;
  padding: map-get($spacing, xl);
  box-shadow: $box-shadow;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: transform $transition-normal;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: $box-shadow-hover;
  }
}

@mixin responsive($breakpoint) {
  @media (max-width: map-get($breakpoints, $breakpoint)) {
    @content;
  }
}

// Fonction pour récupérer les valeurs de spacing
@function spacing($key) {
  @return map-get($spacing, $key);
}

// Fonction pour récupérer les tailles de police
@function font-size($key) {
  @return map-get($font-sizes, $key);
}

// Classes de base
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 spacing(md);
  
  @include responsive(md) {
    padding: 0 spacing(sm);
  }
}

// Classes utilitaires générées avec des boucles
@each $name, $value in $spacing {
  .p-#{$name} { padding: $value; }
  .m-#{$name} { margin: $value; }
  .gap-#{$name} { gap: $value; }
}

@each $name, $value in $font-sizes {
  .text-#{$name} { font-size: $value; }
}

// Styles pour les boutons
.btn {
  @include button-base;
  
  &--primary {
    background-color: $primary-color;
    color: white;
    
    &:hover {
      background-color: $primary-hover;
      transform: translateY(-2px);
    }
  }
  
  &--outline {
    border-color: $primary-color;
    color: $primary-color;
    background: transparent;
    
    &:hover {
      background-color: $primary-color;
      color: white;
    }
  }
  
  &--secondary {
    background-color: $secondary-color;
    color: white;
    
    &:hover {
      background-color: darken($secondary-color, 10%);
    }
  }
  
  @include responsive(md) {
    padding: spacing(xs) spacing(md);
    font-size: font-size(sm);
  }
}

// Styles pour les cartes
.card {
  @include card-style;
  
  &__header {
    margin-bottom: spacing(lg);
    
    h1, h2, h3 {
      margin: 0;
      color: $text-primary;
    }
  }
  
  &__content {
    margin-bottom: spacing(md);
    color: $text-secondary;
    line-height: 1.6;
  }
  
  &__footer {
    margin-top: spacing(lg);
    padding-top: spacing(md);
    border-top: 1px solid $border-color;
  }
}

// Layout helpers
.d-flex { display: flex; }
.flex-column { flex-direction: column; }
.justify-center { justify-content: center; }
.align-center { align-items: center; }
.flex-wrap { flex-wrap: wrap; }

.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

// Grille responsive
.grid {
  display: grid;
  gap: spacing(md);
  
  &--2 { grid-template-columns: repeat(2, 1fr); }
  &--3 { grid-template-columns: repeat(3, 1fr); }
  &--4 { grid-template-columns: repeat(4, 1fr); }
  
  @include responsive(lg) {
    &--3, &--4 { grid-template-columns: repeat(2, 1fr); }
  }
  
  @include responsive(md) {
    &--2, &--3, &--4 { grid-template-columns: 1fr; }
  }
}

// Mode sombre
@media (prefers-color-scheme: dark) {
  $bg-primary: #242424;
  $bg-secondary: #1a1a1a;
  $bg-card: rgba(36, 36, 36, 0.8);
  $text-primary: rgba(255, 255, 255, 0.87);
  $text-secondary: #cccccc;
  $border-color: rgba(255, 255, 255, 0.2);
  
  .card {
    background: $bg-card;
    border-color: $border-color;
    
    &__header h1, &__header h2, &__header h3 {
      color: $text-primary;
    }
    
    &__content {
      color: $text-secondary;
    }
    
    &__footer {
      border-top-color: $border-color;
    }
  }
}

// Animations personnalisées
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

.animate-pulse {
  animation: pulse 2s infinite;
}
